(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{150:function(t){t.exports=JSON.parse('[{"count":4,"description":"Short Product Description1","id":"7567ec4b-b10c-48c5-9345-fc73c48a80aa","price":2.4,"title":"ProductOne"},{"count":6,"description":"Short Product Description3","id":"7567ec4b-b10c-48c5-9345-fc73c48a80a0","price":10,"title":"ProductNew"},{"count":7,"description":"Short Product Description2","id":"7567ec4b-b10c-48c5-9345-fc73c48a80a2","price":23,"title":"ProductTop"},{"count":12,"description":"Short Product Description7","id":"7567ec4b-b10c-48c5-9345-fc73c48a80a1","price":15,"title":"ProductTitle"},{"count":7,"description":"Short Product Description2","id":"7567ec4b-b10c-48c5-9345-fc73c48a80a3","price":23,"title":"Product"},{"count":8,"description":"Short Product Description4","id":"7567ec4b-b10c-48c5-9345-fc73348a80a1","price":15,"title":"ProductTest"},{"count":2,"description":"Short Product Descriptio1","id":"7567ec4b-b10c-48c5-9445-fc73c48a80a2","price":23,"title":"Product2"},{"count":3,"description":"Short Product Description7","id":"7567ec4b-b10c-45c5-9345-fc73c48a80a1","price":15,"title":"ProductName"}]')},178:function(t,e,c){},179:function(t,e,c){},209:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(11),i=c.n(r),o=(c(178),c(179),c(257)),s=c(16),d=c(259),l=c(262),u=c(261),j=c(260),b=c(258),h=c(97),m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),p=function(t){return m.format(t)},O=c(108),x=c.n(O),f=c(149),g=c.n(f),v=c(148),y=c.n(v),S=c(254),C=c(32),w=c(47),k=c.n(w),N=c(87),B=c(156),P=c(85),T={product:"https://.execute-api.eu-west-1.amazonaws.com/dev",order:"https://.execute-api.eu-west-1.amazonaws.com/dev",import:"https://.execute-api.eu-west-1.amazonaws.com/dev",bff:"https://.execute-api.eu-west-1.amazonaws.com/dev",cart:"https://.execute-api.eu-west-1.amazonaws.com/dev"},z=c(13),D=c.n(z),F=Object(P.b)({name:"cart",initialState:{items:[]},reducers:{updateFromApi:function(t,e){var c=e.payload.items;return{items:Object(B.a)(c)}},addToCart:function(t,e){var c=t.items,n=e.payload,a=c.find((function(t){return t.product.id===n.id}));a?a.count++:c.push({product:n,count:1})},removeFromCart:function(t,e){var c=t.items,n=e.payload,a=c.find((function(t){return t.product.id===n.id}));a&&(a.count>1?a.count--:t.items=c.filter((function(t){return t.product.id!==n.id})))},clearCart:function(t){t.items=[]}}}),I=function(t){return function(){var e=Object(N.a)(k.a.mark((function e(c,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(F.actions.addToCart(t)),a=n(),r=a.cart.items,e.next=4,D.a.put("".concat(T.cart,"/profile/cart"),{items:r},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},q=F.actions.updateFromApi,E=function(t){return t.cart.items},W=F.reducer,A=c(2);function M(t){var e=t.product,c=Object(C.b)(),n=Object(C.c)(E).find((function(t){return t.product.id===e.id}));return Object(A.jsx)(A.Fragment,{children:n?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(S.a,{onClick:function(){return c(function(t){return function(){var e=Object(N.a)(k.a.mark((function e(c,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(F.actions.removeFromCart(t)),a=n(),r=a.cart.items,e.next=4,D.a.put("".concat(T.cart,"/profile/cart"),{items:r},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}(e))},children:Object(A.jsx)(y.a,{color:"secondary"})}),Object(A.jsx)(h.a,{align:"center",children:n.count}),Object(A.jsx)(S.a,{onClick:function(){return c(I(e))},children:Object(A.jsx)(g.a,{color:"secondary"})})]}):Object(A.jsx)(S.a,{onClick:function(){return c(I(e))},children:Object(A.jsx)(x.a,{color:"secondary"})})})}var R=c(150),U=Object(o.a)((function(t){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:t.palette.background.paper,padding:t.spacing(6)}}}));function V(){var t=U(),e=Object(n.useState)([]),c=Object(s.a)(e,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){r(R)}),[]),Object(A.jsx)(b.a,{container:!0,spacing:4,children:a.map((function(e,c){return Object(A.jsx)(b.a,{item:!0,xs:12,sm:6,md:4,children:Object(A.jsxs)(d.a,{className:t.card,children:[Object(A.jsx)(j.a,{className:t.cardMedia,image:"https://source.unsplash.com/random?sig=".concat(c),title:"Image title"}),Object(A.jsxs)(u.a,{className:t.cardContent,children:[Object(A.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(A.jsx)(h.a,{children:p(e.price)})]}),Object(A.jsx)(l.a,{children:Object(A.jsx)(M,{product:e})})]})},e.id)}))})}var L=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function G(){var t=L();return Object(A.jsx)("div",{className:t.content,children:Object(A.jsx)(V,{})})}var _=c(268),H=c(269),J=c(282),Y=c(264),$=c(265),K=c(151),Q=c.n(K),X=c(267),Z=c(155),tt=c(263),et=c(26);function ct(){var t=Object(C.b)();Object(n.useEffect)((function(){D.a.get("".concat(T.cart,"/profile/cart"),{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}}).then((function(e){var c=e.data.data.cart;t(q(c))}))}),[t]);var e=Object(C.c)(E).length||void 0;return Object(A.jsx)(S.a,{"aria-label":"show 4 new mails",color:"inherit",component:et.b,to:"/cart",children:Object(A.jsx)(tt.a,{badgeContent:e,color:"secondary",children:Object(A.jsx)(x.a,{})})})}var nt=Object(o.a)((function(t){return Object(J.a)({root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},homeLink:{color:"white",textDecoration:"none"}})}));function at(){var t=nt(),e=a.a.useState(null),c=Object(s.a)(e,2),n=c[0],r=c[1],i=Boolean(n),o=function(){r(null)};return Object(A.jsx)(Y.a,{position:"relative",children:Object(A.jsxs)($.a,{children:[Object(A.jsx)(h.a,{variant:"h6",className:t.title,children:Object(A.jsx)(et.b,{className:t.homeLink,to:"/",children:"My Store!"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(S.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){r(t.currentTarget)},color:"inherit",children:Object(A.jsx)(Q.a,{})}),Object(A.jsxs)(Z.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:o,children:[Object(A.jsx)(X.a,{component:et.b,to:"/admin/orders",onClick:o,children:"Manage orders"}),Object(A.jsx)(X.a,{component:et.b,to:"/admin/products",onClick:o,children:"Manage products"})]})]}),Object(A.jsx)(ct,{})]})})}function rt(){return Object(A.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(A.jsx)(_.a,{color:"inherit",href:"https://material-ui.com/",children:"My Store"})," ",(new Date).getFullYear(),"."]})}var it=Object(o.a)((function(t){return{container:{paddingBottom:t.spacing(8)},footer:{backgroundColor:t.palette.background.paper,padding:t.spacing(6)}}})),ot=function(t){var e=t.children,c=it();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(at,{}),Object(A.jsx)("main",{children:Object(A.jsx)(H.a,{className:c.container,maxWidth:"md",children:e})}),Object(A.jsxs)("footer",{className:c.footer,children:[Object(A.jsx)(h.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Thank you for your purchase!"}),Object(A.jsx)(rt,{})]})]})},st=c(18),dt=c(89),lt=c(270),ut=c(25),jt=ut.c().shape({title:ut.d().required(),description:ut.d(),price:ut.b().required()}),bt=c(17),ht=c(34),mt=c(95),pt=c(159),Ot=Object(o.a)((function(t){return{layout:Object(mt.a)({width:"auto",marginLeft:t.spacing(2),marginRight:t.spacing(2)},t.breakpoints.up(600+2*t.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(mt.a)({marginTop:t.spacing(3),marginBottom:t.spacing(3),padding:t.spacing(2)},t.breakpoints.up(600+2*t.spacing(3)),{marginTop:t.spacing(6),marginBottom:t.spacing(6),padding:t.spacing(3)})}})),xt=function(t){var e=t.children,c=Ot();return Object(A.jsx)("div",{className:c.layout,children:Object(A.jsx)(pt.a,{className:c.paper,children:e})})},ft=function(t){var e=t.dirty,c=t.isSubmitting,n=t.isValid,a=t.handleSubmit;return Object(A.jsx)("form",{onSubmit:a,autoComplete:"off",children:Object(A.jsxs)(b.a,{container:!0,spacing:2,children:[Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.b,{component:ht.a,name:"title",label:"Title",fullWidth:!0,autoComplete:"off",required:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.b,{component:ht.a,name:"description",label:"Description",fullWidth:!0,autoComplete:"off",multiline:!0,required:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,sm:4,children:Object(A.jsx)(bt.b,{component:ht.a,name:"price",label:"Price ($)",fullWidth:!0,autoComplete:"off",required:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,sm:4,children:Object(A.jsx)(bt.b,{component:ht.a,name:"count",label:"Count",fullWidth:!0,autoComplete:"off",required:!0})}),Object(A.jsxs)(b.a,{item:!0,container:!0,xs:12,justify:"space-between",children:[Object(A.jsx)(lt.a,{color:"primary",children:"Cancel"}),Object(A.jsx)(lt.a,{type:"submit",variant:"contained",color:"primary",disabled:!e||c||!n,children:"Save Product"})]})]})})},gt=jt.cast();function vt(){var t=Object(st.f)(),e=Object(st.g)().id,c=Object(n.useState)(null),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!0),d=Object(s.a)(o,2),l=d[0],u=d[1];return Object(n.useEffect)((function(){e?D.a.get("".concat(T.bff,"/product/").concat(e)).then((function(t){i(t.data),u(!1)})):u(!1)}),[e]),l?Object(A.jsx)("p",{children:"loading..."}):Object(A.jsxs)(xt,{children:[Object(A.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:e?"Edit product":"Create new product"}),Object(A.jsx)(bt.d,{initialValues:r||gt,validationSchema:jt,onSubmit:function(c){var n=jt.cast(c),a=e?Object(dt.a)(Object(dt.a)({},jt.cast(n)),{},{id:e}):n;D.a.put("".concat(T.bff,"/product"),a).then((function(){return t.push("/admin/products")}))},children:function(t){return Object(A.jsx)(ft,Object(dt.a)({},t))}})]})}var yt=c(283),St=c(272),Ct=c(281),wt=c(266),kt=c(212),Nt=c(271),Bt=Object(o.a)((function(t){return{listItem:{padding:t.spacing(1,0)},total:{fontWeight:700},title:{marginTop:t.spacing(2)}}}));function Pt(t){var e=t.items,c=t.isEditable,n=Bt(),a=e.reduce((function(t,e){return e.count*e.product.price+t}),0);return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(wt.a,{disablePadding:!0,children:[e.map((function(t){return Object(A.jsxs)(kt.a,{className:n.listItem,children:[c&&Object(A.jsx)(M,{product:t.product}),Object(A.jsx)(Nt.a,{primary:t.product.title,secondary:t.product.description}),Object(A.jsxs)(h.a,{variant:"body2",children:[p(t.product.price)," x ",t.count," = ",p(t.product.price*t.count)]})]},t.product.id)})),Object(A.jsxs)(kt.a,{className:n.listItem,children:[Object(A.jsx)(Nt.a,{primary:"Shipping"}),Object(A.jsx)(h.a,{variant:"body2",children:"Free"})]}),Object(A.jsxs)(kt.a,{className:n.listItem,children:[Object(A.jsx)(Nt.a,{primary:"Total"}),Object(A.jsx)(h.a,{variant:"subtitle1",className:n.total,children:p(a)})]})]})})}function Tt(){var t=Object(C.c)(E);return Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(A.jsx)(Pt,{items:t,isEditable:!0})]})}var zt=Object(o.a)((function(t){return{title:{marginTop:t.spacing(2)}}}));function Dt(t){var e=t.address,c=t.items,n=zt();return Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(A.jsx)(Pt,{items:c,isEditable:!1}),Object(A.jsxs)(b.a,{container:!0,spacing:2,children:[Object(A.jsxs)(b.a,{item:!0,xs:12,sm:6,children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,className:n.title,children:"Shipping"}),Object(A.jsxs)(h.a,{gutterBottom:!0,children:[e.firstName," ",e.lastName]}),Object(A.jsx)(h.a,{gutterBottom:!0,children:e.address})]}),Object(A.jsxs)(b.a,{item:!0,container:!0,direction:"column",xs:12,sm:6,children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,className:n.title,children:"Comment"}),Object(A.jsx)(h.a,{gutterBottom:!0,children:e.comment})]})]})]})}var Ft=ut.c({firstName:ut.d().required(),lastName:ut.d().required(),address:ut.d().required(),comment:ut.d().default("")}).defined(),It=ut.c({productId:ut.d().required(),count:ut.b().integer().positive().required()}).defined(),qt=ut.c({id:ut.d().required(),items:ut.a().of(It),address:Ft,status:ut.d().required()}).defined(),Et=Object(o.a)((function(t){return{stepper:{padding:t.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:t.spacing(3),marginLeft:t.spacing(1)}}})),Wt=["Review your cart","Shipping address","Review your order"],At=Ft.cast(),Mt=function(){return Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"The cart is empty. Didn't you like anything in our shop?"})},Rt=function(){return Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),Object(A.jsx)(h.a,{variant:"subtitle1",children:"Your order is placed. Our manager will call you soon to clarify the details."})]})};function Ut(){var t=Et(),e=a.a.useState(0),c=Object(s.a)(e,2),r=c[0],i=c[1],o=Object(C.c)(E),d=!o.length,l=Object(n.useState)(At),u=Object(s.a)(l,2),j=u[0],m=u[1],p=Object(n.useState)(!1),O=Object(s.a)(p,2),x=O[0],f=O[1],g=Object(C.b)();return Object(A.jsxs)(xt,{children:[Object(A.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:"Checkout"}),Object(A.jsx)(yt.a,{activeStep:r,className:t.stepper,children:Wt.map((function(t){return Object(A.jsx)(St.a,{children:Object(A.jsx)(Ct.a,{children:t})},t)}))}),Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsx)(bt.d,{enableReinitialize:!1,initialValues:At,validationSchema:Ft,isInitialValid:!1,onSubmit:function(){},children:function(t){var e=t.values,c=t.isValid;return m(e),f(c),Object(A.jsxs)(bt.c,{children:[d&&0===r&&Object(A.jsx)(Mt,{}),0===r&&!d&&Object(A.jsx)(Tt,{}),1===r&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),Object(A.jsxs)(b.a,{container:!0,spacing:2,children:[Object(A.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(bt.a,{component:ht.a,name:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"off",required:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(bt.a,{component:ht.a,name:"firstName",label:"First Name",fullWidth:!0,autoComplete:"off",required:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.a,{component:ht.a,name:"address",label:"Shipping address",fullWidth:!0,autoComplete:"off",multiline:!0})}),Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.a,{component:ht.a,name:"comment",label:"Comment",fullWidth:!0,autoComplete:"off",multiline:!0})})]})]}),2===r&&Object(A.jsx)(Dt,{address:j,items:o}),3===r&&Object(A.jsx)(Rt,{})]})}}),r<=2&&Object(A.jsxs)("div",{className:t.buttons,children:[0!==r&&Object(A.jsx)(lt.a,{onClick:function(){i(r-1)},className:t.button,children:"Back"}),!d&&Object(A.jsx)(lt.a,{variant:"contained",color:"primary",onClick:function(){if(i(r+1),2===r){var t=qt.cast({items:o.map((function(t){return{productId:t.product.id,count:t.count}})),address:j});D.a.put("".concat(T.order,"/order"),t).then((function(){g(function(){var t=Object(N.a)(k.a.mark((function t(e,c){var n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(F.actions.clearCart()),n=c(),a=n.cart.items,t.next=4,D.a.put("".concat(T.cart,"/profile/cart"),{items:a},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()),i(r+1)}))}},className:t.button,disabled:1===r&&!x,children:r===Wt.length-1?"Place order":"Next"})]})]})]})}var Vt=c(274),Lt=c(278),Gt=c(277),_t=c(273),Ht=c(275),Jt=c(276);function Yt(){var t=Object(n.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1];Object(n.useEffect)((function(){D.a.get("".concat(T.order,"/order")).then((function(t){return a(t.data)}))}),[]);return Object(A.jsx)(_t.a,{component:pt.a,children:Object(A.jsxs)(Vt.a,{"aria-label":"simple table",children:[Object(A.jsx)(Ht.a,{children:Object(A.jsxs)(Jt.a,{children:[Object(A.jsx)(Gt.a,{children:"From"}),Object(A.jsx)(Gt.a,{align:"right",children:"Items count"}),Object(A.jsx)(Gt.a,{align:"right",children:"Address"}),Object(A.jsx)(Gt.a,{align:"right",children:"Status"}),Object(A.jsx)(Gt.a,{align:"right",children:"Action"})]})}),Object(A.jsx)(Lt.a,{children:c.map((function(t){var e,c,n;return Object(A.jsxs)(Jt.a,{children:[Object(A.jsxs)(Gt.a,{component:"th",scope:"row",children:[null===(e=t.address)||void 0===e?void 0:e.firstName," ",null===(c=t.address)||void 0===c?void 0:c.lastName]}),Object(A.jsx)(Gt.a,{align:"right",children:t.items.length}),Object(A.jsx)(Gt.a,{align:"right",children:null===(n=t.address)||void 0===n?void 0:n.address}),Object(A.jsx)(Gt.a,{align:"right",children:t.statusHistory[t.statusHistory.length-1].status.toUpperCase()}),Object(A.jsxs)(Gt.a,{align:"right",children:[Object(A.jsx)(lt.a,{size:"small",color:"primary",component:et.b,to:"/admin/order/".concat(t.id),children:"Manage"}),Object(A.jsx)(lt.a,{size:"small",color:"secondary",onClick:function(){return e=t.id,void D.a.delete("".concat(T.order,"/order/").concat(e)).then((function(){D.a.get("".concat(T.order,"/order")).then((function(t){return a(t.data)}))}));var e},children:"Delete"})]})]},t.id)}))})]})})}var $t=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function Kt(){var t=$t();return Object(A.jsxs)("div",{className:t.content,children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Manage orders"}),Object(A.jsx)(Yt,{})]})}var Qt="approved",Xt=["open",Qt,"confirmed","sent","completed","cancelled"],Zt=function(t){var e=t.values,c=t.dirty,n=t.isSubmitting,a=t.isValid,r=t.handleSubmit,i="";return e.status===Qt&&(i="Setting status to APPROVED will decrease products count from stock!!!"),Object(A.jsx)("form",{onSubmit:r,autoComplete:"off",children:Object(A.jsxs)(b.a,{container:!0,spacing:2,children:[Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.b,{component:ht.a,name:"status",label:"Status",select:!0,fullWidth:!0,helperText:i,children:Xt.map((function(t,e){return Object(A.jsx)(X.a,{value:t,children:t},e)}))})}),Object(A.jsx)(b.a,{item:!0,xs:12,children:Object(A.jsx)(bt.b,{component:ht.a,name:"comment",label:"Comment",fullWidth:!0,autoComplete:"off",multiline:!0})}),Object(A.jsx)(b.a,{item:!0,container:!0,xs:12,justify:"space-between",children:Object(A.jsx)(lt.a,{type:"submit",variant:"contained",color:"primary",disabled:!c||n||!a,children:"Change status"})})]})})};function te(){var t=Object(st.g)().id,e=Object(n.useState)({}),c=Object(s.a)(e,2),a=c[0],r=c[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),d=o[0],l=o[1],u=Object(n.useState)(!0),j=Object(s.a)(u,2),b=j[0],m=j[1];if(Object(n.useEffect)((function(){if(t){var e=[D.a.get("".concat(T.product,"/product")),D.a.get("".concat(T.order,"/order/").concat(t))];Promise.all(e).then((function(t){var e=Object(s.a)(t,2),c=e[0].data,n=e[1].data,a=n.items.map((function(t){return{product:c.find((function(e){return e.id===t.productId})),count:t.count}}));r(n),l(a),m(!1)}))}else m(!1)}),[t]),b)return Object(A.jsx)("p",{children:"loading..."});var p=a.statusHistory||[],O=p[p.length-1];return Object(A.jsxs)(xt,{children:[Object(A.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:"Manage order"}),Object(A.jsx)(Dt,{address:a.address,items:d}),Object(A.jsx)(h.a,{variant:"h6",children:"Status:"}),Object(A.jsx)(h.a,{variant:"h6",color:"primary",children:null===O||void 0===O?void 0:O.status.toUpperCase()}),Object(A.jsx)(h.a,{variant:"h6",children:"Change status:"}),Object(A.jsx)(bt.d,{initialValues:{status:O.status,comment:""},enableReinitialize:!0,onSubmit:function(t){return D.a.put("".concat(T.order,"/order/").concat(a.id,"/status"),t).then((function(t){var e=t.data;return r(e)}))},children:function(t){return Object(A.jsx)(Zt,Object(dt.a)({},t))}}),Object(A.jsx)(h.a,{variant:"h6",children:"Status history:"}),Object(A.jsx)(_t.a,{children:Object(A.jsxs)(Vt.a,{"aria-label":"simple table",children:[Object(A.jsx)(Ht.a,{children:Object(A.jsxs)(Jt.a,{children:[Object(A.jsx)(Gt.a,{children:"Status"}),Object(A.jsx)(Gt.a,{align:"right",children:"Date and Time"}),Object(A.jsx)(Gt.a,{align:"right",children:"Comment"})]})}),Object(A.jsx)(Lt.a,{children:p.map((function(t){return Object(A.jsxs)(Jt.a,{children:[Object(A.jsx)(Gt.a,{component:"th",scope:"row",children:t.status.toUpperCase()}),Object(A.jsx)(Gt.a,{align:"right",children:new Date(t.timestamp).toString()}),Object(A.jsx)(Gt.a,{align:"right",children:t.comment})]},a.id)}))})]})})]})}function ee(){var t=Object(n.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1];Object(n.useEffect)((function(){D.a.get("".concat(T.bff,"/product")).then((function(t){return a(t.data)}))}),[]);return Object(A.jsx)(_t.a,{component:pt.a,children:Object(A.jsxs)(Vt.a,{"aria-label":"simple table",children:[Object(A.jsx)(Ht.a,{children:Object(A.jsxs)(Jt.a,{children:[Object(A.jsx)(Gt.a,{children:"Title"}),Object(A.jsx)(Gt.a,{align:"right",children:"Description"}),Object(A.jsx)(Gt.a,{align:"right",children:"Price"}),Object(A.jsx)(Gt.a,{align:"right",children:"Count"}),Object(A.jsx)(Gt.a,{align:"right",children:"Action"})]})}),Object(A.jsx)(Lt.a,{children:c.map((function(t){return Object(A.jsxs)(Jt.a,{children:[Object(A.jsx)(Gt.a,{component:"th",scope:"row",children:t.title}),Object(A.jsx)(Gt.a,{align:"right",children:t.description}),Object(A.jsx)(Gt.a,{align:"right",children:p(t.price)}),Object(A.jsx)(Gt.a,{align:"right",children:t.count}),Object(A.jsxs)(Gt.a,{align:"right",children:[Object(A.jsx)(lt.a,{size:"small",color:"primary",component:et.b,to:"/admin/product-form/".concat(t.id),children:"Manage"}),Object(A.jsx)(lt.a,{size:"small",color:"secondary",onClick:function(){return e=t.id,void D.a.delete("".concat(T.bff,"/product/").concat(e)).then((function(){D.a.get("".concat(T.bff,"/product")).then((function(t){return a(t.data)}))}));var e},children:"Delete"})]})]},t.id)}))})]})})}var ce=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function ne(t){var e=t.url,c=t.title,a=ce(),r=Object(n.useState)(),i=Object(s.a)(r,2),o=i[0],d=i[1],l=function(){var t=Object(N.a)(k.a.mark((function t(c){var n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D()({method:"GET",url:e,params:{name:encodeURIComponent(o.name)}});case 2:return n=t.sent,console.log("File to upload: ",o.name),console.log("Uploading to: ",n.data),t.next=7,fetch(n.data,{method:"PUT",body:o});case 7:a=t.sent,console.log("Result: ",a),d("");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:a.content,children:[Object(A.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:c}),o?Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{onClick:function(){d("")},children:"Remove file"}),Object(A.jsx)("button",{onClick:l,children:"Upload file"})]}):Object(A.jsx)("input",{type:"file",onChange:function(t){console.log(t);var e=t.target.files||t.dataTransfer.files;e.length&&d(e.item(0))}})]})}var ae=c(280),re=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function ie(){var t=re();return Object(A.jsxs)("div",{className:t.content,children:[Object(A.jsxs)(ae.a,{display:"flex",alignItems:"center",children:[Object(A.jsx)(ne,{url:"".concat(T.import,"/import"),title:"Import Products CSV"}),Object(A.jsx)(lt.a,{size:"small",color:"primary",variant:"contained",component:et.b,to:"/admin/product-form/",children:"create product"})]}),Object(A.jsx)(ee,{})]})}var oe=function(){return Object(A.jsx)(et.a,{children:Object(A.jsx)(st.c,{children:Object(A.jsx)(st.a,{path:"/",children:Object(A.jsxs)(ot,{children:[Object(A.jsx)(st.a,{exact:!0,path:"/",children:Object(A.jsx)(G,{})}),Object(A.jsx)(st.a,{exact:!0,path:["/admin/product-form/:id","/admin/product-form"],children:Object(A.jsx)(vt,{})}),Object(A.jsx)(st.a,{exact:!0,path:"/cart",children:Object(A.jsx)(Ut,{})}),Object(A.jsx)(st.a,{exact:!0,path:"/admin/orders",children:Object(A.jsx)(Kt,{})}),Object(A.jsx)(st.a,{exact:!0,path:"/admin/order/:id",children:Object(A.jsx)(te,{})}),Object(A.jsx)(st.a,{exact:!0,path:"/admin/products",children:Object(A.jsx)(ie,{})})]})})})})},se=Object(P.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),de=se.actions,le=(de.increment,de.decrement,de.incrementByAmount,se.reducer),ue=Object(P.a)({reducer:{counter:le,cart:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=c(279);D.a.interceptors.response.use((function(t){return t}),(function(t){var e,c,n;400===(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status)&&alert(null===(n=t.response.data)||void 0===n?void 0:n.data);return Promise.reject(null!==(c=null===t||void 0===t?void 0:t.response)&&void 0!==c?c:t)})),i.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsxs)(C.a,{store:ue,children:[Object(A.jsx)(je.a,{}),Object(A.jsx)(oe,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[209,1,2]]]);
//# sourceMappingURL=main.1def1ca6.chunk.js.map