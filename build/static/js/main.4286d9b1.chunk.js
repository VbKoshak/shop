(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{177:function(t,e,n){},178:function(t,e,n){},208:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(12),i=n.n(r),o=(n(177),n(178),n(256)),s=n(16),d=n(258),l=n(261),u=n(260),j=n(259),b=n(257),h=n(97),m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),p=function(t){return m.format(t)},O=n(108),x=n.n(O),f=n(149),g=n.n(f),v=n(148),y=n.n(v),C=n(253),S=n(32),w=n(47),k=n.n(w),N=n(87),B=n(155),q=n(85),z={product:"https://5d09qqbry8.execute-api.us-east-2.amazonaws.com/dev",order:"https://5d09qqbry8.execute-api.us-east-2.amazonaws.com/dev",import:"https://5d09qqbry8.execute-api.us-east-2.amazonaws.com/dev",bff:"https://5d09qqbry8.execute-api.us-east-2.amazonaws.com/dev",cart:"https://5d09qqbry8.execute-api.us-east-2.amazonaws.com/dev"},T=n(10),F=n.n(T),I=Object(q.b)({name:"cart",initialState:{items:[]},reducers:{updateFromApi:function(t,e){var n=e.payload.items;return{items:Object(B.a)(n)}},addToCart:function(t,e){var n=t.items,a=e.payload,c=n.find((function(t){return t.product.id===a.id}));c?c.count++:n.push({product:a,count:1})},removeFromCart:function(t,e){var n=t.items,a=e.payload,c=n.find((function(t){return t.product.id===a.id}));c&&(c.count>1?c.count--:t.items=n.filter((function(t){return t.product.id!==a.id})))},clearCart:function(t){t.items=[]}}}),E=function(t){return function(){var e=Object(N.a)(k.a.mark((function e(n,a){var c,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I.actions.addToCart(t)),c=a(),r=c.cart.items,e.next=4,F.a.put("".concat(z.cart,"/profile/cart"),{items:r},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},W=I.actions.updateFromApi,A=function(t){return t.cart.items},D=I.reducer,M=n(2);function P(t){var e=t.product,n=Object(S.b)(),a=Object(S.c)(A).find((function(t){return t.product.id===e.id}));return Object(M.jsx)(M.Fragment,{children:a?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(C.a,{onClick:function(){return n(function(t){return function(){var e=Object(N.a)(k.a.mark((function e(n,a){var c,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(I.actions.removeFromCart(t)),c=a(),r=c.cart.items,e.next=4,F.a.put("".concat(z.cart,"/profile/cart"),{items:r},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(e))},children:Object(M.jsx)(y.a,{color:"secondary"})}),Object(M.jsx)(h.a,{align:"center",children:a.count}),Object(M.jsx)(C.a,{onClick:function(){return n(E(e))},children:Object(M.jsx)(g.a,{color:"secondary"})})]}):Object(M.jsx)(C.a,{onClick:function(){return n(E(e))},children:Object(M.jsx)(x.a,{color:"secondary"})})})}var R=Object(o.a)((function(t){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:t.palette.background.paper,padding:t.spacing(6)}}}));function U(){var t=R(),e=Object(a.useState)([]),n=Object(s.a)(e,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){F.a.get("".concat(z.bff,"/products/available/")).then((function(t){return r(t.data)}))}),[]),Object(M.jsx)(b.a,{container:!0,spacing:4,children:c.map((function(e,n){return Object(M.jsx)(b.a,{item:!0,xs:12,sm:6,md:4,children:Object(M.jsxs)(d.a,{className:t.card,children:[Object(M.jsx)(j.a,{className:t.cardMedia,image:"https://source.unsplash.com/random?sig=".concat(n),title:"Image title"}),Object(M.jsxs)(u.a,{className:t.cardContent,children:[Object(M.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(M.jsx)(h.a,{children:p(e.price)})]}),Object(M.jsx)(l.a,{children:Object(M.jsx)(P,{product:e})})]})},e.id)}))})}var V=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function L(){var t=V();return Object(M.jsx)("div",{className:t.content,children:Object(M.jsx)(U,{})})}var G=n(267),_=n(268),H=n(281),J=n(263),Y=n(264),$=n(150),K=n.n($),Q=n(266),X=n(154),Z=n(262),tt=n(26);function et(){var t=Object(S.b)();Object(a.useEffect)((function(){F.a.get("".concat(z.cart,"/profile/cart"),{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}}).then((function(e){var n=e.data.data.cart;t(W(n))}))}),[t]);var e=Object(S.c)(A).length||void 0;return Object(M.jsx)(C.a,{"aria-label":"show 4 new mails",color:"inherit",component:tt.b,to:"/cart",children:Object(M.jsx)(Z.a,{badgeContent:e,color:"secondary",children:Object(M.jsx)(x.a,{})})})}var nt=Object(o.a)((function(t){return Object(H.a)({root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},homeLink:{color:"white",textDecoration:"none"}})}));function at(){var t=nt(),e=c.a.useState(null),n=Object(s.a)(e,2),a=n[0],r=n[1],i=Boolean(a),o=function(){r(null)};return Object(M.jsx)(J.a,{position:"relative",children:Object(M.jsxs)(Y.a,{children:[Object(M.jsx)(h.a,{variant:"h6",className:t.title,children:Object(M.jsx)(tt.b,{className:t.homeLink,to:"/",children:"My Store!"})}),Object(M.jsxs)("div",{children:[Object(M.jsx)(C.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){r(t.currentTarget)},color:"inherit",children:Object(M.jsx)(K.a,{})}),Object(M.jsxs)(X.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:o,children:[Object(M.jsx)(Q.a,{component:tt.b,to:"/admin/orders",onClick:o,children:"Manage orders"}),Object(M.jsx)(Q.a,{component:tt.b,to:"/admin/products",onClick:o,children:"Manage products"})]})]}),Object(M.jsx)(et,{})]})})}function ct(){return Object(M.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(M.jsx)(G.a,{color:"inherit",href:"https://material-ui.com/",children:"My Store"})," ",(new Date).getFullYear(),"."]})}var rt=Object(o.a)((function(t){return{container:{paddingBottom:t.spacing(8)},footer:{backgroundColor:t.palette.background.paper,padding:t.spacing(6)}}})),it=function(t){var e=t.children,n=rt();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(at,{}),Object(M.jsx)("main",{children:Object(M.jsx)(_.a,{className:n.container,maxWidth:"md",children:e})}),Object(M.jsxs)("footer",{className:n.footer,children:[Object(M.jsx)(h.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Thank you for your purchase!"}),Object(M.jsx)(ct,{})]})]})},ot=n(18),st=n(89),dt=n(269),lt=n(25),ut=lt.c().shape({title:lt.d().required(),description:lt.d(),price:lt.b().required()}),jt=n(17),bt=n(34),ht=n(95),mt=n(158),pt=Object(o.a)((function(t){return{layout:Object(ht.a)({width:"auto",marginLeft:t.spacing(2),marginRight:t.spacing(2)},t.breakpoints.up(600+2*t.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(ht.a)({marginTop:t.spacing(3),marginBottom:t.spacing(3),padding:t.spacing(2)},t.breakpoints.up(600+2*t.spacing(3)),{marginTop:t.spacing(6),marginBottom:t.spacing(6),padding:t.spacing(3)})}})),Ot=function(t){var e=t.children,n=pt();return Object(M.jsx)("div",{className:n.layout,children:Object(M.jsx)(mt.a,{className:n.paper,children:e})})},xt=function(t){var e=t.dirty,n=t.isSubmitting,a=t.isValid,c=t.handleSubmit;return Object(M.jsx)("form",{onSubmit:c,autoComplete:"off",children:Object(M.jsxs)(b.a,{container:!0,spacing:2,children:[Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.b,{component:bt.a,name:"title",label:"Title",fullWidth:!0,autoComplete:"off",required:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.b,{component:bt.a,name:"description",label:"Description",fullWidth:!0,autoComplete:"off",multiline:!0,required:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,sm:4,children:Object(M.jsx)(jt.b,{component:bt.a,name:"price",label:"Price ($)",fullWidth:!0,autoComplete:"off",required:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,sm:4,children:Object(M.jsx)(jt.b,{component:bt.a,name:"count",label:"Count",fullWidth:!0,autoComplete:"off",required:!0})}),Object(M.jsxs)(b.a,{item:!0,container:!0,xs:12,justify:"space-between",children:[Object(M.jsx)(dt.a,{color:"primary",children:"Cancel"}),Object(M.jsx)(dt.a,{type:"submit",variant:"contained",color:"primary",disabled:!e||n||!a,children:"Save Product"})]})]})})},ft=ut.cast();function gt(){var t=Object(ot.f)(),e=Object(ot.g)().id,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!0),d=Object(s.a)(o,2),l=d[0],u=d[1];return Object(a.useEffect)((function(){e?F.a.get("".concat(z.bff,"/product/").concat(e)).then((function(t){i(t.data),u(!1)})):u(!1)}),[e]),l?Object(M.jsx)("p",{children:"loading..."}):Object(M.jsxs)(Ot,{children:[Object(M.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:e?"Edit product":"Create new product"}),Object(M.jsx)(jt.d,{initialValues:r||ft,validationSchema:ut,onSubmit:function(n){var a=ut.cast(n),c=e?Object(st.a)(Object(st.a)({},ut.cast(a)),{},{id:e}):a;F.a.put("".concat(z.bff,"/product"),c).then((function(){return t.push("/admin/products")}))},children:function(t){return Object(M.jsx)(xt,Object(st.a)({},t))}})]})}var vt=n(282),yt=n(271),Ct=n(280),St=n(265),wt=n(211),kt=n(270),Nt=Object(o.a)((function(t){return{listItem:{padding:t.spacing(1,0)},total:{fontWeight:700},title:{marginTop:t.spacing(2)}}}));function Bt(t){var e=t.items,n=t.isEditable,a=Nt(),c=e.reduce((function(t,e){return e.count*e.product.price+t}),0);return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(St.a,{disablePadding:!0,children:[e.map((function(t){return Object(M.jsxs)(wt.a,{className:a.listItem,children:[n&&Object(M.jsx)(P,{product:t.product}),Object(M.jsx)(kt.a,{primary:t.product.title,secondary:t.product.description}),Object(M.jsxs)(h.a,{variant:"body2",children:[p(t.product.price)," x ",t.count," = ",p(t.product.price*t.count)]})]},t.product.id)})),Object(M.jsxs)(wt.a,{className:a.listItem,children:[Object(M.jsx)(kt.a,{primary:"Shipping"}),Object(M.jsx)(h.a,{variant:"body2",children:"Free"})]}),Object(M.jsxs)(wt.a,{className:a.listItem,children:[Object(M.jsx)(kt.a,{primary:"Total"}),Object(M.jsx)(h.a,{variant:"subtitle1",className:a.total,children:p(c)})]})]})})}function qt(){var t=Object(S.c)(A);return Object(M.jsxs)(c.a.Fragment,{children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(M.jsx)(Bt,{items:t,isEditable:!0})]})}var zt=Object(o.a)((function(t){return{title:{marginTop:t.spacing(2)}}}));function Tt(t){var e=t.address,n=t.items,a=zt();return Object(M.jsxs)(c.a.Fragment,{children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(M.jsx)(Bt,{items:n,isEditable:!1}),Object(M.jsxs)(b.a,{container:!0,spacing:2,children:[Object(M.jsxs)(b.a,{item:!0,xs:12,sm:6,children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,className:a.title,children:"Shipping"}),Object(M.jsxs)(h.a,{gutterBottom:!0,children:[e.firstName," ",e.lastName]}),Object(M.jsx)(h.a,{gutterBottom:!0,children:e.address})]}),Object(M.jsxs)(b.a,{item:!0,container:!0,direction:"column",xs:12,sm:6,children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,className:a.title,children:"Comment"}),Object(M.jsx)(h.a,{gutterBottom:!0,children:e.comment})]})]})]})}var Ft=lt.c({firstName:lt.d().required(),lastName:lt.d().required(),address:lt.d().required(),comment:lt.d().default("")}).defined(),It=lt.c({productId:lt.d().required(),count:lt.b().integer().positive().required()}).defined(),Et=lt.c({id:lt.d().required(),items:lt.a().of(It),address:Ft,status:lt.d().required()}).defined(),Wt=Object(o.a)((function(t){return{stepper:{padding:t.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:t.spacing(3),marginLeft:t.spacing(1)}}})),At=["Review your cart","Shipping address","Review your order"],Dt=Ft.cast(),Mt=function(){return Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"The cart is empty. Didn't you like anything in our shop?"})},Pt=function(){return Object(M.jsxs)(c.a.Fragment,{children:[Object(M.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),Object(M.jsx)(h.a,{variant:"subtitle1",children:"Your order is placed. Our manager will call you soon to clarify the details."})]})};function Rt(){var t=Wt(),e=c.a.useState(0),n=Object(s.a)(e,2),r=n[0],i=n[1],o=Object(S.c)(A),d=!o.length,l=Object(a.useState)(Dt),u=Object(s.a)(l,2),j=u[0],m=u[1],p=Object(a.useState)(!1),O=Object(s.a)(p,2),x=O[0],f=O[1],g=Object(S.b)();return Object(M.jsxs)(Ot,{children:[Object(M.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:"Checkout"}),Object(M.jsx)(vt.a,{activeStep:r,className:t.stepper,children:At.map((function(t){return Object(M.jsx)(yt.a,{children:Object(M.jsx)(Ct.a,{children:t})},t)}))}),Object(M.jsxs)(c.a.Fragment,{children:[Object(M.jsx)(jt.d,{enableReinitialize:!1,initialValues:Dt,validationSchema:Ft,isInitialValid:!1,onSubmit:function(){},children:function(t){var e=t.values,n=t.isValid;return m(e),f(n),Object(M.jsxs)(jt.c,{children:[d&&0===r&&Object(M.jsx)(Mt,{}),0===r&&!d&&Object(M.jsx)(qt,{}),1===r&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),Object(M.jsxs)(b.a,{container:!0,spacing:2,children:[Object(M.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(jt.a,{component:bt.a,name:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"off",required:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(jt.a,{component:bt.a,name:"firstName",label:"First Name",fullWidth:!0,autoComplete:"off",required:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.a,{component:bt.a,name:"address",label:"Shipping address",fullWidth:!0,autoComplete:"off",multiline:!0})}),Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.a,{component:bt.a,name:"comment",label:"Comment",fullWidth:!0,autoComplete:"off",multiline:!0})})]})]}),2===r&&Object(M.jsx)(Tt,{address:j,items:o}),3===r&&Object(M.jsx)(Pt,{})]})}}),r<=2&&Object(M.jsxs)("div",{className:t.buttons,children:[0!==r&&Object(M.jsx)(dt.a,{onClick:function(){i(r-1)},className:t.button,children:"Back"}),!d&&Object(M.jsx)(dt.a,{variant:"contained",color:"primary",onClick:function(){if(i(r+1),2===r){var t=Et.cast({items:o.map((function(t){return{productId:t.product.id,count:t.count}})),address:j});F.a.put("".concat(z.order,"/order"),t).then((function(){g(function(){var t=Object(N.a)(k.a.mark((function t(e,n){var a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(I.actions.clearCart()),a=n(),c=a.cart.items,t.next=4,F.a.put("".concat(z.cart,"/profile/cart"),{items:c},{headers:{Authorization:"Basic ".concat(localStorage.getItem("authorization_token"))}});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),i(r+1)}))}},className:t.button,disabled:1===r&&!x,children:r===At.length-1?"Place order":"Next"})]})]})]})}var Ut=n(273),Vt=n(277),Lt=n(276),Gt=n(272),_t=n(274),Ht=n(275);function Jt(){var t=Object(a.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1];Object(a.useEffect)((function(){F.a.get("".concat(z.order,"/order")).then((function(t){return c(t.data)}))}),[]);return Object(M.jsx)(Gt.a,{component:mt.a,children:Object(M.jsxs)(Ut.a,{"aria-label":"simple table",children:[Object(M.jsx)(_t.a,{children:Object(M.jsxs)(Ht.a,{children:[Object(M.jsx)(Lt.a,{children:"From"}),Object(M.jsx)(Lt.a,{align:"right",children:"Items count"}),Object(M.jsx)(Lt.a,{align:"right",children:"Address"}),Object(M.jsx)(Lt.a,{align:"right",children:"Status"}),Object(M.jsx)(Lt.a,{align:"right",children:"Action"})]})}),Object(M.jsx)(Vt.a,{children:n.map((function(t){var e,n,a;return Object(M.jsxs)(Ht.a,{children:[Object(M.jsxs)(Lt.a,{component:"th",scope:"row",children:[null===(e=t.address)||void 0===e?void 0:e.firstName," ",null===(n=t.address)||void 0===n?void 0:n.lastName]}),Object(M.jsx)(Lt.a,{align:"right",children:t.items.length}),Object(M.jsx)(Lt.a,{align:"right",children:null===(a=t.address)||void 0===a?void 0:a.address}),Object(M.jsx)(Lt.a,{align:"right",children:t.statusHistory[t.statusHistory.length-1].status.toUpperCase()}),Object(M.jsxs)(Lt.a,{align:"right",children:[Object(M.jsx)(dt.a,{size:"small",color:"primary",component:tt.b,to:"/admin/order/".concat(t.id),children:"Manage"}),Object(M.jsx)(dt.a,{size:"small",color:"secondary",onClick:function(){return e=t.id,void F.a.delete("".concat(z.order,"/order/").concat(e)).then((function(){F.a.get("".concat(z.order,"/order")).then((function(t){return c(t.data)}))}));var e},children:"Delete"})]})]},t.id)}))})]})})}var Yt=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function $t(){var t=Yt();return Object(M.jsxs)("div",{className:t.content,children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Manage orders"}),Object(M.jsx)(Jt,{})]})}var Kt="approved",Qt=["open",Kt,"confirmed","sent","completed","cancelled"],Xt=function(t){var e=t.values,n=t.dirty,a=t.isSubmitting,c=t.isValid,r=t.handleSubmit,i="";return e.status===Kt&&(i="Setting status to APPROVED will decrease products count from stock!!!"),Object(M.jsx)("form",{onSubmit:r,autoComplete:"off",children:Object(M.jsxs)(b.a,{container:!0,spacing:2,children:[Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.b,{component:bt.a,name:"status",label:"Status",select:!0,fullWidth:!0,helperText:i,children:Qt.map((function(t,e){return Object(M.jsx)(Q.a,{value:t,children:t},e)}))})}),Object(M.jsx)(b.a,{item:!0,xs:12,children:Object(M.jsx)(jt.b,{component:bt.a,name:"comment",label:"Comment",fullWidth:!0,autoComplete:"off",multiline:!0})}),Object(M.jsx)(b.a,{item:!0,container:!0,xs:12,justify:"space-between",children:Object(M.jsx)(dt.a,{type:"submit",variant:"contained",color:"primary",disabled:!n||a||!c,children:"Change status"})})]})})};function Zt(){var t=Object(ot.g)().id,e=Object(a.useState)({}),n=Object(s.a)(e,2),c=n[0],r=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),d=o[0],l=o[1],u=Object(a.useState)(!0),j=Object(s.a)(u,2),b=j[0],m=j[1];if(Object(a.useEffect)((function(){if(t){var e=[F.a.get("".concat(z.product,"/product")),F.a.get("".concat(z.order,"/order/").concat(t))];Promise.all(e).then((function(t){var e=Object(s.a)(t,2),n=e[0].data,a=e[1].data,c=a.items.map((function(t){return{product:n.find((function(e){return e.id===t.productId})),count:t.count}}));r(a),l(c),m(!1)}))}else m(!1)}),[t]),b)return Object(M.jsx)("p",{children:"loading..."});var p=c.statusHistory||[],O=p[p.length-1];return Object(M.jsxs)(Ot,{children:[Object(M.jsx)(h.a,{component:"h1",variant:"h4",align:"center",children:"Manage order"}),Object(M.jsx)(Tt,{address:c.address,items:d}),Object(M.jsx)(h.a,{variant:"h6",children:"Status:"}),Object(M.jsx)(h.a,{variant:"h6",color:"primary",children:null===O||void 0===O?void 0:O.status.toUpperCase()}),Object(M.jsx)(h.a,{variant:"h6",children:"Change status:"}),Object(M.jsx)(jt.d,{initialValues:{status:O.status,comment:""},enableReinitialize:!0,onSubmit:function(t){return F.a.put("".concat(z.order,"/order/").concat(c.id,"/status"),t).then((function(t){var e=t.data;return r(e)}))},children:function(t){return Object(M.jsx)(Xt,Object(st.a)({},t))}}),Object(M.jsx)(h.a,{variant:"h6",children:"Status history:"}),Object(M.jsx)(Gt.a,{children:Object(M.jsxs)(Ut.a,{"aria-label":"simple table",children:[Object(M.jsx)(_t.a,{children:Object(M.jsxs)(Ht.a,{children:[Object(M.jsx)(Lt.a,{children:"Status"}),Object(M.jsx)(Lt.a,{align:"right",children:"Date and Time"}),Object(M.jsx)(Lt.a,{align:"right",children:"Comment"})]})}),Object(M.jsx)(Vt.a,{children:p.map((function(t){return Object(M.jsxs)(Ht.a,{children:[Object(M.jsx)(Lt.a,{component:"th",scope:"row",children:t.status.toUpperCase()}),Object(M.jsx)(Lt.a,{align:"right",children:new Date(t.timestamp).toString()}),Object(M.jsx)(Lt.a,{align:"right",children:t.comment})]},c.id)}))})]})})]})}function te(){var t=Object(a.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1];Object(a.useEffect)((function(){F.a.get("".concat(z.bff,"/product")).then((function(t){return c(t.data)}))}),[]);return Object(M.jsx)(Gt.a,{component:mt.a,children:Object(M.jsxs)(Ut.a,{"aria-label":"simple table",children:[Object(M.jsx)(_t.a,{children:Object(M.jsxs)(Ht.a,{children:[Object(M.jsx)(Lt.a,{children:"Title"}),Object(M.jsx)(Lt.a,{align:"right",children:"Description"}),Object(M.jsx)(Lt.a,{align:"right",children:"Price"}),Object(M.jsx)(Lt.a,{align:"right",children:"Count"}),Object(M.jsx)(Lt.a,{align:"right",children:"Action"})]})}),Object(M.jsx)(Vt.a,{children:n.map((function(t){return Object(M.jsxs)(Ht.a,{children:[Object(M.jsx)(Lt.a,{component:"th",scope:"row",children:t.title}),Object(M.jsx)(Lt.a,{align:"right",children:t.description}),Object(M.jsx)(Lt.a,{align:"right",children:p(t.price)}),Object(M.jsx)(Lt.a,{align:"right",children:t.count}),Object(M.jsxs)(Lt.a,{align:"right",children:[Object(M.jsx)(dt.a,{size:"small",color:"primary",component:tt.b,to:"/admin/product-form/".concat(t.id),children:"Manage"}),Object(M.jsx)(dt.a,{size:"small",color:"secondary",onClick:function(){return e=t.id,void F.a.delete("".concat(z.bff,"/product/").concat(e)).then((function(){F.a.get("".concat(z.bff,"/product")).then((function(t){return c(t.data)}))}));var e},children:"Delete"})]})]},t.id)}))})]})})}var ee=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function ne(t){var e=t.url,n=t.title,c=ee(),r=Object(a.useState)(),i=Object(s.a)(r,2),o=i[0],d=i[1],l=function(){var t=Object(N.a)(k.a.mark((function t(n){var a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F()({method:"GET",url:e,params:{name:encodeURIComponent(o.name)}});case 2:return a=t.sent,console.log("File to upload: ",o.name),console.log("Uploading to: ",a.data),t.next=7,fetch(a.data,{method:"PUT",body:o});case 7:c=t.sent,console.log("Result: ",c),d("");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:c.content,children:[Object(M.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:n}),o?Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:function(){d("")},children:"Remove file"}),Object(M.jsx)("button",{onClick:l,children:"Upload file"})]}):Object(M.jsx)("input",{type:"file",onChange:function(t){console.log(t);var e=t.target.files||t.dataTransfer.files;e.length&&d(e.item(0))}})]})}var ae=n(279),ce=Object(o.a)((function(t){return{content:{padding:t.spacing(3,0,3)}}}));function re(){var t=ce();return Object(M.jsxs)("div",{className:t.content,children:[Object(M.jsxs)(ae.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(ne,{url:"".concat(z.import,"/import"),title:"Import Products CSV"}),Object(M.jsx)(dt.a,{size:"small",color:"primary",variant:"contained",component:tt.b,to:"/admin/product-form/",children:"create product"})]}),Object(M.jsx)(te,{})]})}var ie=function(){return Object(M.jsx)(tt.a,{children:Object(M.jsx)(ot.c,{children:Object(M.jsx)(ot.a,{path:"/",children:Object(M.jsxs)(it,{children:[Object(M.jsx)(ot.a,{exact:!0,path:"/",children:Object(M.jsx)(L,{})}),Object(M.jsx)(ot.a,{exact:!0,path:["/admin/product-form/:id","/admin/product-form"],children:Object(M.jsx)(gt,{})}),Object(M.jsx)(ot.a,{exact:!0,path:"/cart",children:Object(M.jsx)(Rt,{})}),Object(M.jsx)(ot.a,{exact:!0,path:"/admin/orders",children:Object(M.jsx)($t,{})}),Object(M.jsx)(ot.a,{exact:!0,path:"/admin/order/:id",children:Object(M.jsx)(Zt,{})}),Object(M.jsx)(ot.a,{exact:!0,path:"/admin/products",children:Object(M.jsx)(re,{})})]})})})})},oe=Object(q.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),se=oe.actions,de=(se.increment,se.decrement,se.incrementByAmount,oe.reducer),le=Object(q.a)({reducer:{counter:de,cart:D}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=n(278);F.a.interceptors.response.use((function(t){return t}),(function(t){var e,n,a;400===(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status)&&alert(null===(a=t.response.data)||void 0===a?void 0:a.data);return Promise.reject(null!==(n=null===t||void 0===t?void 0:t.response)&&void 0!==n?n:t)})),i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsxs)(S.a,{store:le,children:[Object(M.jsx)(ue.a,{}),Object(M.jsx)(ie,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.4286d9b1.chunk.js.map